未完成，考虑碰撞检测（如果已经写了 log 语句就不自动生成了）